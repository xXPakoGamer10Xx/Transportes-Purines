<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Checklist Operativo - Transportes Purines</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        /* Estilos específicos para impresión */
        @media print {
            @page { margin: 0.5cm; size: A4; }
            body { 
                background: white; 
                -webkit-print-color-adjust: exact; 
                print-color-adjust: exact;
                font-size: 10pt; /* Reducir fuente base */
            }
            .no-print { display: none !important; }
            
            /* Ajustes del contenedor principal */
            .sheet { 
                box-shadow: none !important; 
                border: none !important; 
                margin: 0 !important; 
                width: 100% !important; 
                max-width: none !important; 
                padding: 10px !important; /* Reducir padding */
                min-height: auto !important;
            }

            /* Compactar encabezado */
            h1 { font-size: 18pt !important; }
            h2 { font-size: 10pt !important; }
            .w-20 { width: 3rem !important; height: 3rem !important; } /* Logo más pequeño */
            
            /* Compactar inputs */
            input[type="text"], input[type="date"] {
                border: none;
                border-bottom: 1px solid black;
                background: transparent;
                font-size: 9pt;
                height: auto;
                padding: 0;
            }
            
            /* Compactar tabla */
            table { font-size: 9pt !important; }
            td, th { padding: 4px !important; } /* Menos padding en celdas */
            
            /* Checkboxes visibles */
            input[type="checkbox"] {
                appearance: none;
                -webkit-appearance: none;
                width: 14px;
                height: 14px;
                border: 1px solid black;
                display: inline-block;
                position: relative;
            }
            input[type="checkbox"]:checked::after {
                content: '✓';
                font-size: 12px;
                position: absolute;
                top: -3px;
                left: 1px;
                color: black;
                font-weight: bold;
            }
            
            /* Ajustar espacios verticales */
            .mb-6, .mb-8 { margin-bottom: 1rem !important; }
            .mt-12 { margin-top: 2rem !important; }
            .py-8 { padding-top: 0 !important; padding-bottom: 0 !important; }
            
            /* Forzar ajuste en una página si es necesario */
            html, body { height: 100%; overflow: hidden; }
        }
        
        /* Estilos generales */
        .checkbox-custom {
            width: 24px; 
            height: 24px; 
            cursor: pointer;
            accent-color: #1e40af; /* Azul Purines */
        }
        
        .input-line {
            width: 100%;
            background: transparent;
            border: none;
            border-bottom: 1px solid #9ca3af;
            padding: 2px 4px;
            outline: none;
            transition: border-color 0.3s;
        }
        .input-line:focus {
            border-bottom: 2px solid #1e40af;
        }
    </style>
</head>
<body class="bg-slate-100 py-8 font-sans">

    <!-- Controles Superiores -->
    <div class="max-w-[21cm] mx-auto mb-6 flex flex-col sm:flex-row justify-between items-center gap-4 no-print px-4">
        <a href="#" onclick="window.close(); return false;" class="flex items-center text-slate-600 font-semibold hover:text-slate-900 transition-colors">
            <i data-lucide="arrow-left" class="w-5 h-5 mr-2"></i> Cerrar y Volver
        </a>
        <div class="flex gap-3">
            <button onclick="limpiarFormulario()" class="px-4 py-2 text-slate-600 bg-white border border-slate-300 rounded-lg hover:bg-slate-50 font-medium text-sm flex items-center shadow-sm">
                <i data-lucide="rotate-ccw" class="w-4 h-4 mr-2"></i> Limpiar
            </button>
            <button onclick="window.print()" class="bg-blue-700 text-white px-6 py-2 rounded-lg shadow-md hover:bg-blue-800 font-bold flex items-center transition-all transform hover:scale-105">
                <i data-lucide="printer" class="w-5 h-5 mr-2"></i> Imprimir / Guardar PDF
            </button>
        </div>
    </div>

    <!-- Hoja A4 Digital -->
    <div class="sheet max-w-[21cm] mx-auto bg-white min-h-[29.7cm] p-8 md:p-12 shadow-2xl relative rounded-xl">
        
        <!-- Encabezado con Logo -->
        <div class="flex items-center justify-between border-b-2 border-slate-800 pb-4 mb-6">
            <div class="w-20 h-20 bg-slate-50 flex items-center justify-center rounded-full border border-slate-200 overflow-hidden">
                <img src="Logo.jpeg" alt="Logo" class="w-full h-full object-cover" onerror="this.src='https://placehold.co/80x80?text=TP'">
            </div>
            <div class="text-center flex-1 px-4">
                <h1 class="text-2xl font-black text-slate-900 uppercase tracking-wider">Transportes Purines</h1>
                <h2 class="text-sm font-bold text-slate-600 uppercase">S.A. de C.V.</h2>
                <p class="text-xs mt-1 text-blue-600 font-medium tracking-widest">Calidad y eficiencia en camino</p>
            </div>
            <div class="text-right text-xs text-slate-500 font-mono">
                <p class="font-bold text-slate-900">FO-OPE-001</p>
                <p>Rev. 2025</p>
                <p>Pág. 1 de 1</p>
            </div>
        </div>

        <div class="text-center mb-8">
            <h2 class="text-lg md:text-xl font-bold uppercase border-2 border-slate-900 inline-block px-8 py-2 text-slate-900 tracking-wide">
                Diagnóstico Operativo y de Bioseguridad
            </h2>
        </div>

        <!-- Datos Generales Interactivos -->
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8 text-sm">
            <div class="flex flex-col">
                <label class="font-bold text-slate-700 text-xs uppercase mb-1">Fecha:</label>
                <input type="date" class="input-line font-medium text-slate-900" id="fecha-input">
            </div>
            <div class="flex flex-col">
                <label class="font-bold text-slate-700 text-xs uppercase mb-1">No. Económico Unidad:</label>
                <input type="text" placeholder="Ej. TP-045" class="input-line font-medium text-slate-900">
            </div>
            <div class="flex flex-col">
                <label class="font-bold text-slate-700 text-xs uppercase mb-1">Nombre del Operador:</label>
                <input type="text" placeholder="Nombre completo" class="input-line font-medium text-slate-900">
            </div>
        </div>

        <!-- Tabla Checklist Interactiva -->
        <div class="overflow-hidden border border-slate-900 rounded-sm">
            <table class="w-full text-sm">
                <thead>
                    <tr class="bg-slate-100 text-slate-900 font-bold text-xs uppercase tracking-wider">
                        <th class="border-b border-r border-slate-900 p-3 text-left w-1/2">Indicador de Cumplimiento</th>
                        <th class="border-b border-r border-slate-900 p-2 w-16 text-center">SÍ</th>
                        <th class="border-b border-r border-slate-900 p-2 w-16 text-center">NO</th>
                        <th class="border-b border-slate-900 p-3 text-left">Observaciones / Hallazgos</th>
                    </tr>
                </thead>
                <tbody class="text-slate-700">
                    
                    <!-- Sección 1 -->
                    <tr class="bg-blue-50/50"><td colspan="4" class="border-b border-slate-900 p-2 font-bold text-blue-900 text-xs uppercase">1. Condiciones de la Unidad</td></tr>
                    
                    <!-- Item 1.1 -->
                    <tr class="hover:bg-slate-50">
                        <td class="border-b border-r border-slate-300 p-3 align-middle">¿La unidad se encuentra lavada y desinfectada antes de la carga?</td>
                        <td class="border-b border-r border-slate-300 p-2 text-center align-middle bg-green-50/30">
                            <input type="checkbox" name="row1_si" class="checkbox-custom" onclick="toggleCheck(this, 'row1_no')">
                        </td>
                        <td class="border-b border-r border-slate-300 p-2 text-center align-middle bg-red-50/30">
                            <input type="checkbox" name="row1_no" class="checkbox-custom" onclick="toggleCheck(this, 'row1_si')">
                        </td>
                        <td class="border-b border-slate-300 p-2 align-middle">
                            <input type="text" class="input-line text-xs" placeholder="Detalles...">
                        </td>
                    </tr>

                    <!-- Item 1.2 -->
                    <tr class="hover:bg-slate-50">
                        <td class="border-b border-r border-slate-300 p-3 align-middle">¿Niveles de fluidos y presión de llantas correctos?</td>
                        <td class="border-b border-r border-slate-300 p-2 text-center align-middle bg-green-50/30">
                            <input type="checkbox" name="row2_si" class="checkbox-custom" onclick="toggleCheck(this, 'row2_no')">
                        </td>
                        <td class="border-b border-r border-slate-300 p-2 text-center align-middle bg-red-50/30">
                            <input type="checkbox" name="row2_no" class="checkbox-custom" onclick="toggleCheck(this, 'row2_si')">
                        </td>
                        <td class="border-b border-slate-300 p-2 align-middle">
                            <input type="text" class="input-line text-xs" placeholder="Detalles...">
                        </td>
                    </tr>

                    <!-- Item 1.3 -->
                    <tr class="hover:bg-slate-50">
                        <td class="border-b border-r border-slate-300 p-3 align-middle">¿Piso con material antideslizante/cama adecuada?</td>
                        <td class="border-b border-r border-slate-300 p-2 text-center align-middle bg-green-50/30">
                            <input type="checkbox" name="row3_si" class="checkbox-custom" onclick="toggleCheck(this, 'row3_no')">
                        </td>
                        <td class="border-b border-r border-slate-300 p-2 text-center align-middle bg-red-50/30">
                            <input type="checkbox" name="row3_no" class="checkbox-custom" onclick="toggleCheck(this, 'row3_si')">
                        </td>
                        <td class="border-b border-slate-300 p-2 align-middle">
                            <input type="text" class="input-line text-xs" placeholder="Detalles...">
                        </td>
                    </tr>

                    <!-- Item 1.4 -->
                    <tr class="hover:bg-slate-50">
                        <td class="border-b border-r border-slate-300 p-3 align-middle">¿Ventilación y bebederos funcionan correctamente?</td>
                        <td class="border-b border-r border-slate-300 p-2 text-center align-middle bg-green-50/30">
                            <input type="checkbox" name="row4_si" class="checkbox-custom" onclick="toggleCheck(this, 'row4_no')">
                        </td>
                        <td class="border-b border-r border-slate-300 p-2 text-center align-middle bg-red-50/30">
                            <input type="checkbox" name="row4_no" class="checkbox-custom" onclick="toggleCheck(this, 'row4_si')">
                        </td>
                        <td class="border-b border-slate-300 p-2 align-middle">
                            <input type="text" class="input-line text-xs" placeholder="Detalles...">
                        </td>
                    </tr>

                    <!-- Sección 2 -->
                    <tr class="bg-blue-50/50"><td colspan="4" class="border-b border-slate-900 p-2 font-bold text-blue-900 text-xs uppercase">2. Bienestar Animal y Carga</td></tr>
                    
                    <!-- Item 2.1 -->
                    <tr class="hover:bg-slate-50">
                        <td class="border-b border-r border-slate-300 p-3 align-middle">¿Se respetó la densidad de carga establecida?</td>
                        <td class="border-b border-r border-slate-300 p-2 text-center align-middle bg-green-50/30">
                            <input type="checkbox" name="row5_si" class="checkbox-custom" onclick="toggleCheck(this, 'row5_no')">
                        </td>
                        <td class="border-b border-r border-slate-300 p-2 text-center align-middle bg-red-50/30">
                            <input type="checkbox" name="row5_no" class="checkbox-custom" onclick="toggleCheck(this, 'row5_si')">
                        </td>
                        <td class="border-b border-slate-300 p-2 align-middle">
                            <input type="text" class="input-line text-xs" placeholder="Detalles...">
                        </td>
                    </tr>

                    <!-- Item 2.2 -->
                    <tr class="hover:bg-slate-50">
                        <td class="border-b border-r border-slate-300 p-3 align-middle">¿Uso de rampas y paneles sin causar estrés?</td>
                        <td class="border-b border-r border-slate-300 p-2 text-center align-middle bg-green-50/30">
                            <input type="checkbox" name="row6_si" class="checkbox-custom" onclick="toggleCheck(this, 'row6_no')">
                        </td>
                        <td class="border-b border-r border-slate-300 p-2 text-center align-middle bg-red-50/30">
                            <input type="checkbox" name="row6_no" class="checkbox-custom" onclick="toggleCheck(this, 'row6_si')">
                        </td>
                        <td class="border-b border-slate-300 p-2 align-middle">
                            <input type="text" class="input-line text-xs" placeholder="Detalles...">
                        </td>
                    </tr>

                     <!-- Item 2.3 -->
                     <tr class="hover:bg-slate-50">
                        <td class="border-b border-r border-slate-300 p-3 align-middle">¿Animales observados sanos y aptos para transporte?</td>
                        <td class="border-b border-r border-slate-300 p-2 text-center align-middle bg-green-50/30">
                            <input type="checkbox" name="row7_si" class="checkbox-custom" onclick="toggleCheck(this, 'row7_no')">
                        </td>
                        <td class="border-b border-r border-slate-300 p-2 text-center align-middle bg-red-50/30">
                            <input type="checkbox" name="row7_no" class="checkbox-custom" onclick="toggleCheck(this, 'row7_si')">
                        </td>
                        <td class="border-b border-slate-300 p-2 align-middle">
                            <input type="text" class="input-line text-xs" placeholder="Detalles...">
                        </td>
                    </tr>

                     <!-- Item 2.4 -->
                     <tr class="hover:bg-slate-50">
                        <td class="border-b border-r border-slate-300 p-3 align-middle">¿Plan de ruta para evitar paradas (estrés térmico)?</td>
                        <td class="border-b border-r border-slate-300 p-2 text-center align-middle bg-green-50/30">
                            <input type="checkbox" name="row8_si" class="checkbox-custom" onclick="toggleCheck(this, 'row8_no')">
                        </td>
                        <td class="border-b border-r border-slate-300 p-2 text-center align-middle bg-red-50/30">
                            <input type="checkbox" name="row8_no" class="checkbox-custom" onclick="toggleCheck(this, 'row8_si')">
                        </td>
                        <td class="border-b border-slate-300 p-2 align-middle">
                            <input type="text" class="input-line text-xs" placeholder="Detalles...">
                        </td>
                    </tr>

                    <!-- Sección 3 -->
                    <tr class="bg-blue-50/50"><td colspan="4" class="border-b border-slate-900 p-2 font-bold text-blue-900 text-xs uppercase">3. Bioseguridad y Seguridad</td></tr>
                    
                    <!-- Item 3.1 -->
                    <tr class="hover:bg-slate-50">
                        <td class="border-b border-r border-slate-300 p-3 align-middle">¿El operador porta su EPP completo y limpio?</td>
                        <td class="border-b border-r border-slate-300 p-2 text-center align-middle bg-green-50/30">
                            <input type="checkbox" name="row9_si" class="checkbox-custom" onclick="toggleCheck(this, 'row9_no')">
                        </td>
                        <td class="border-b border-r border-slate-300 p-2 text-center align-middle bg-red-50/30">
                            <input type="checkbox" name="row9_no" class="checkbox-custom" onclick="toggleCheck(this, 'row9_si')">
                        </td>
                        <td class="border-b border-slate-300 p-2 align-middle">
                            <input type="text" class="input-line text-xs" placeholder="Detalles...">
                        </td>
                    </tr>

                     <!-- Item 3.2 -->
                     <tr class="hover:bg-slate-50">
                        <td class="border-b border-r border-slate-300 p-3 align-middle">¿Cuenta con certificado de lavado vigente?</td>
                        <td class="border-b border-r border-slate-300 p-2 text-center align-middle bg-green-50/30">
                            <input type="checkbox" name="row10_si" class="checkbox-custom" onclick="toggleCheck(this, 'row10_no')">
                        </td>
                        <td class="border-b border-r border-slate-300 p-2 text-center align-middle bg-red-50/30">
                            <input type="checkbox" name="row10_no" class="checkbox-custom" onclick="toggleCheck(this, 'row10_si')">
                        </td>
                        <td class="border-b border-slate-300 p-2 align-middle">
                            <input type="text" class="input-line text-xs" placeholder="Detalles...">
                        </td>
                    </tr>

                     <!-- Item 3.3 -->
                     <tr class="hover:bg-slate-50">
                        <td class="border-b border-r border-slate-300 p-3 align-middle">¿Licencia Federal y Apto Médico vigentes?</td>
                        <td class="border-b border-r border-slate-300 p-2 text-center align-middle bg-green-50/30">
                            <input type="checkbox" name="row11_si" class="checkbox-custom" onclick="toggleCheck(this, 'row11_no')">
                        </td>
                        <td class="border-b border-r border-slate-300 p-2 text-center align-middle bg-red-50/30">
                            <input type="checkbox" name="row11_no" class="checkbox-custom" onclick="toggleCheck(this, 'row11_si')">
                        </td>
                        <td class="border-b border-slate-300 p-2 align-middle">
                            <input type="text" class="input-line text-xs" placeholder="Detalles...">
                        </td>
                    </tr>

                     <!-- Item 3.4 -->
                     <tr class="hover:bg-slate-50">
                        <td class="border-b border-r border-slate-300 p-3 align-middle">¿Verificación de funcionamiento GPS?</td>
                        <td class="border-b border-r border-slate-300 p-2 text-center align-middle bg-green-50/30">
                            <input type="checkbox" name="row12_si" class="checkbox-custom" onclick="toggleCheck(this, 'row12_no')">
                        </td>
                        <td class="border-b border-r border-slate-300 p-2 text-center align-middle bg-red-50/30">
                            <input type="checkbox" name="row12_no" class="checkbox-custom" onclick="toggleCheck(this, 'row12_si')">
                        </td>
                        <td class="border-b border-slate-300 p-2 align-middle">
                            <input type="text" class="input-line text-xs" placeholder="Detalles...">
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- Firmas Interactivas -->
        <div class="flex justify-around mt-12 pt-8">
            <div class="text-center w-64">
                <input type="text" class="w-full border-b-2 border-slate-900 text-center pb-2 focus:outline-none focus:border-blue-600 bg-transparent" placeholder="(Firma Digital o Nombre)">
                <p class="mt-2 text-xs font-bold text-slate-700 uppercase tracking-widest">Firma del Operador</p>
            </div>
            <div class="text-center w-64">
                <input type="text" class="w-full border-b-2 border-slate-900 text-center pb-2 focus:outline-none focus:border-blue-600 bg-transparent" placeholder="(Firma Digital o Nombre)">
                <p class="mt-2 text-xs font-bold text-slate-700 uppercase tracking-widest">Firma del Supervisor</p>
            </div>
        </div>

    </div>

    <!-- Script para comportamiento interactivo -->
    <script>
        // Inicializar Iconos
        lucide.createIcons();
        
        // Poner fecha de hoy automáticamente
        document.getElementById('fecha-input').valueAsDate = new Date();

        // Función para que los checkboxes actúen como radio buttons (excluyentes)
        function toggleCheck(current, siblingName) {
            if (current.checked) {
                const sibling = document.getElementsByName(siblingName)[0];
                if(sibling) sibling.checked = false;
            }
        }

        // Limpiar formulario
        function limpiarFormulario() {
            const inputs = document.querySelectorAll('input');
            inputs.forEach(input => {
                if(input.type === 'checkbox') input.checked = false;
                else if(input.type === 'date') input.valueAsDate = new Date();
                else input.value = '';
            });
        }
    </script>
</body>
</html>